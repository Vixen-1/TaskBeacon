import{R as u,r as p,u as _,j as n,L as k,d as L,y as h}from"./index-C5ICzpCd.js";import{T as B,a as v}from"./index-C-IQwj6m.js";import{i as I}from"./main-bg-CmF2ve_g.js";import{c as M,S as R,B as l}from"./Stack-CcHeYigC.js";import{T as f}from"./Typography-CNpcKAEk.js";import{T as j}from"./TextField-CkU0ilYR.js";var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y=u.createContext&&u.createContext(O),A=["attr","size","title"];function G(e,r){if(e==null)return{};var t=H(e,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function H(e,r){if(e==null)return{};var t={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;t[a]=e[a]}return t}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},g.apply(this,arguments)}function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?w(Object(t),!0).forEach(function(a){W(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function W(e,r,t){return r=V(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function V(e){var r=$(e,"string");return typeof r=="symbol"?r:r+""}function $(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function C(e){return e&&e.map((r,t)=>u.createElement(r.tag,x({key:t},r.attr),C(r.child)))}function N(e){return r=>u.createElement(K,g({attr:x({},e.attr)},r),C(e.child))}function K(e){var r=t=>{var{attr:a,size:s,title:o}=e,c=G(e,A),d=s||t.size||"1em",m;return t.className&&(m=t.className),e.className&&(m=(m?m+" ":"")+e.className),u.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:m,style:x(x({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&u.createElement("title",null,o),e.children)};return y!==void 0?u.createElement(y.Consumer,null,t=>r(t)):r(O)}function q(e){return N({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}function J(e){return N({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}const re=()=>{const[e,r]=p.useState(!1),[t,a]=p.useState({name:"",email:"",password:""}),[s,o]=p.useState(null),[c,d]=p.useState({name:"",email:"",password:""}),m=_(),P=M({components:{MuiTextField:{styleOverrides:{root:{backgroundColor:"rgba(255,255,255, 0.6)",borderRadius:"8px",height:"50px"}}}}}),T=()=>{const i={name:"",email:"",password:""};return t.name.trim().length<3&&(i.name="Name must have minimum 3 characters."),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())||(i.email="Enter a valid email."),t.password.trim().length<5&&(i.password="Password must contain a minimum of 5 characters."),d(i),!Object.values(i).some(z=>z!=="")},S=async()=>{if(T()){r(!0);try{const i=await v.post("https://todo-cloudy.onrender.com/api/auth/createuser",t,{headers:{"Content-Type":"application/json"}});i.data.authToken?(L.setItem("authToken",i.data.authToken),h.success("Signup successful"),m("/mainpage"),o(null)):i.status===400&&i.data.error&&(await o(i.data.error),h.error(`${s}`))}catch(i){v.isAxiosError(i)&&i.response?(await o(i.response.data.error),h.error(s),console.error(s)):(o("An unexpected error occurred."),h.error(s))}finally{r(!1)}}},E=async i=>{i.preventDefault(),await S()},F=()=>{window.location.href="https://todo-cloudy.onrender.com/api/auth/google"},D=()=>{window.location.href="https://todo-cloudy.onrender.com/api/auth/github"},b=i=>{a({...t,[i.target.name]:i.target.value})};return n.jsxs(R,{children:[n.jsx("img",{alt:"nature",className:"bg-img",src:I}),n.jsx(l,{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",children:n.jsxs(l,{className:"signup-box",children:[n.jsx(f,{variant:"h4",color:"white",textAlign:"center",fontWeight:"bold",pt:3,children:"Signup"}),n.jsxs("form",{onSubmit:E,className:"m-8",children:[n.jsx(B,{theme:P,children:n.jsxs(l,{display:"flex",flexDirection:"column",gap:2,children:[n.jsxs(l,{children:[n.jsx(f,{className:"label",children:"Name"}),n.jsx(j,{type:"text",name:"name",id:"name",value:t.name,onChange:b,error:!!c.name,helperText:c.name,className:"input-login Themed TextField"})]}),n.jsxs(l,{children:[n.jsx(f,{className:"label",children:"Email"}),n.jsx(j,{type:"email",name:"email",id:"email",value:t.email,onChange:b,error:!!c.email,helperText:c.email,className:"input-login Themed TextField"})]}),n.jsxs(l,{children:[n.jsx(f,{className:"label",children:"Password"}),n.jsx(j,{type:"password",name:"password",id:"password",value:t.password,onChange:b,error:!!c.password,helperText:c.password,className:"input-login Themed TextField"})]})]})}),e?n.jsx(k,{}):n.jsx(l,{className:"submit-button mt-6",children:n.jsx("button",{type:"submit",children:"Signup"})}),n.jsxs(l,{display:"flex",flexDirection:"row",gap:10,justifyContent:"center",children:[n.jsx(q,{className:"font-bold cursor-pointer text-2xl",onClick:F}),n.jsx(J,{className:"bottom-link text-2xl",onClick:D})]}),n.jsxs(l,{className:"bottom",children:["Already have an account?"," ",n.jsx("span",{className:"bottom-link",onClick:()=>m("/login"),children:"Login"}),"."]})]})]})})]})};export{re as default};
