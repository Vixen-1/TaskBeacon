import{R as u,r as p,u as A,j as n,L,d as B}from"./index-CagRsFnG.js";import{T as H,a as w}from"./index-DZc6wm_C.js";import{i as I}from"./main-bg-CmF2ve_g.js";import{c as M,S as R,B as c}from"./Stack-q8OfxHJi.js";import{T as f}from"./Typography-UUMtLFSe.js";import{T as v,S as G,A as W}from"./TextField-Dbz73Yw9.js";var S={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C=u.createContext&&u.createContext(S),$=["attr","size","title"];function V(e,r){if(e==null)return{};var t=K(e,r),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function K(e,r){if(e==null)return{};var t={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;t[a]=e[a]}return t}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},g.apply(this,arguments)}function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,a)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?O(Object(t),!0).forEach(function(a){q(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function q(e,r,t){return r=J(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function J(e){var r=Q(e,"string");return typeof r=="symbol"?r:r+""}function Q(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function N(e){return e&&e.map((r,t)=>u.createElement(r.tag,x({key:t},r.attr),N(r.child)))}function P(e){return r=>u.createElement(U,g({attr:x({},e.attr)},r),N(e.child))}function U(e){var r=t=>{var{attr:a,size:i,title:o}=e,m=V(e,$),h=i||t.size||"1em",l;return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),u.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,m,{className:l,style:x(x({color:e.color||t.color},t.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&u.createElement("title",null,o),e.children)};return C!==void 0?u.createElement(C.Consumer,null,t=>r(t)):r(S)}function X(e){return P({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}function Y(e){return P({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}const ie=()=>{const[e,r]=p.useState(!1),[t,a]=p.useState({name:"",email:"",password:""}),[i,o]=p.useState(null),[m,h]=p.useState({name:"",email:"",password:""}),[l,d]=p.useState({open:!1,message:"",severity:"success"}),y=A(),j=()=>{d(s=>({...s,open:!1}))},T=M({components:{MuiTextField:{styleOverrides:{root:{backgroundColor:"rgba(255,255,255, 0.6)",borderRadius:"8px",height:"50px"}}}}}),E=()=>{const s={name:"",email:"",password:""};return t.name.trim().length<3&&(s.name="Name must have minimum 3 characters."),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())||(s.email="Enter a valid email."),t.password.trim().length<5&&(s.password="Password must contain a minimum of 5 characters."),h(s),!Object.values(s).some(_=>_!=="")},D=async()=>{if(E()){r(!0);try{const s=await w.post("https://todo-cloudy.onrender.com/api/auth/createuser",t,{headers:{"Content-Type":"application/json"}});s.data.authToken?(B.setItem("authToken",s.data.authToken),d({open:!0,message:"Signup successful",severity:"success"}),y("/mainpage"),o(null)):s.status===400&&s.data.error&&(await o(s.data.error),d({open:!0,message:`${i}`,severity:"error"}))}catch(s){w.isAxiosError(s)&&s.response?(await o(s.response.data.error),d({open:!0,message:`${i}`,severity:"error"}),console.log(i)):(o("An unexpected error occurred."),d({open:!0,message:`${i}`,severity:"error"}))}finally{r(!1)}}},F=async s=>{s.preventDefault(),await D()},k=()=>{window.location.href="https://todo-cloudy.onrender.com/api/auth/google"},z=()=>{window.location.href="https://todo-cloudy.onrender.com/api/auth/github"},b=s=>{a({...t,[s.target.name]:s.target.value})};return n.jsxs(R,{children:[n.jsx("img",{alt:"nature",className:"bg-img",src:I}),n.jsx(c,{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",children:n.jsxs(c,{className:"signup-box",children:[n.jsx(f,{variant:"h4",color:"white",textAlign:"center",fontWeight:"bold",pt:3,children:"Signup"}),n.jsxs("form",{onSubmit:F,className:"m-8",children:[n.jsx(H,{theme:T,children:n.jsxs(c,{display:"flex",flexDirection:"column",gap:2,children:[n.jsxs(c,{children:[n.jsx(f,{className:"label",children:"Name"}),n.jsx(v,{type:"text",name:"name",id:"name",value:t.name,onChange:b,error:!!m.name,helperText:m.name,className:"input-login Themed TextField"})]}),n.jsxs(c,{children:[n.jsx(f,{className:"label",children:"Email"}),n.jsx(v,{type:"email",name:"email",id:"email",value:t.email,onChange:b,error:!!m.email,helperText:m.email,className:"input-login Themed TextField"})]}),n.jsxs(c,{children:[n.jsx(f,{className:"label",children:"Password"}),n.jsx(v,{type:"password",name:"password",id:"password",value:t.password,onChange:b,error:!!m.password,helperText:m.password,className:"input-login Themed TextField"})]})]})}),e?n.jsx(L,{}):n.jsx(c,{className:"submit-button mt-6",children:n.jsx("button",{type:"submit",children:"Signup"})}),n.jsxs(c,{display:"flex",flexDirection:"row",gap:10,justifyContent:"center",children:[n.jsx(X,{className:"font-bold cursor-pointer text-2xl",onClick:k}),n.jsx(Y,{className:"bottom-link text-2xl",onClick:z})]}),n.jsxs(c,{className:"bottom",children:["Already have an account?"," ",n.jsx("span",{className:"bottom-link",onClick:()=>y("/login"),children:"Login"}),"."]})]})]})}),n.jsx(G,{open:l.open,autoHideDuration:3e3,onClose:j,anchorOrigin:{vertical:"top",horizontal:"right"},children:n.jsx(W,{onClose:j,severity:l.severity,children:l.message})})]})};export{ie as default};
