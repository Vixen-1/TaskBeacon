import{r as l,u as T,j as e,L as b,d as y,y as n}from"./index-C5ICzpCd.js";/* empty css               */import{T as N,a as u}from"./index-C-IQwj6m.js";import{i as w}from"./main-bg-CmF2ve_g.js";/* empty css            */import{c as v,S,B as s}from"./Stack-CcHeYigC.js";import{T as c}from"./Typography-CNpcKAEk.js";import{T as h}from"./TextField-CkU0ilYR.js";const B=()=>{const[x,m]=l.useState(!1),[t,g]=l.useState({email:"",password:""}),[r,o]=l.useState(null),d=T(),p=i=>{g({...t,[i.target.name]:i.target.value})},f=v({components:{MuiTextField:{styleOverrides:{root:{backgroundColor:"rgba(255,255,255, 0.6) ",height:"50px",borderRadius:"8px"}}}}}),j=async i=>{m(!0),i.preventDefault();try{const a=await u.post("https://todo-cloudy.onrender.com/api/auth/login",t,{headers:{"Content-Type":"application/json"}});a.data.authToken&&(y.setItem("authToken",a.data.authToken),n.success("Login Successful !"),o(null),d("/mainpage")),a.data.error&&(await o(a.data.error),n.error(r))}catch(a){u.isAxiosError(a)&&a.response?(await o(a.response.data.error),n.error(r),console.error(r)):(o("An unexpected error occurred."),n.error(r))}finally{m(!1)}};return e.jsxs(S,{className:"signup",children:[e.jsx("img",{alt:"nature",className:"bg-img",src:w}),e.jsx(s,{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(s,{className:"signup-box",children:[e.jsx(c,{color:"white",fontWeight:"bold",variant:"h4",textAlign:"center",paddingTop:3,children:"Login"}),e.jsxs("form",{onSubmit:j,className:"form m-10",children:[e.jsx(N,{theme:f,children:e.jsxs(s,{display:"flex",flexDirection:"column",gap:2,children:[e.jsxs(s,{children:[e.jsx(c,{className:"label Themed TextField",children:"Email"}),e.jsx(h,{type:"email",name:"email",id:"email",value:t.email,onChange:p,required:!0,className:"input-login text-white"})]}),e.jsxs(s,{children:[e.jsx(c,{className:"label Themed TextField pt-4",children:"Password"}),e.jsx(h,{type:"password",name:"password",id:"password",value:t.password,onChange:p,required:!0,className:"input-login text-white"})]})]})}),x?e.jsx(s,{className:"pt-5",children:e.jsx(b,{})}):e.jsx(s,{className:"submit-button mt-10",children:e.jsx("button",{type:"submit",children:"Login"})})]}),e.jsxs(s,{className:"bottom",children:["Don't have an account?"," ",e.jsx("span",{className:"bottom-link",onClick:()=>d("/Signup"),children:"Signup"}),"."]})]})})]})};export{B as default};
